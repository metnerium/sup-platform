# ============================================================
# APPLICATION CONFIGURATION
# ============================================================
NODE_ENV=development
APP_NAME=SUP
LOG_LEVEL=info

# ============================================================
# SERVICE PORTS
# ============================================================
MAIN_API_PORT=3000
WEBSOCKET_PORT=3001
MEDIA_SERVICE_PORT=3002
WORKER_SERVICE_PORT=3003
CALL_SERVICE_PORT=3004

# ============================================================
# DATABASE CONFIGURATION
# ============================================================
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_NAME=sup
DATABASE_USER=sup_user
DATABASE_PASSWORD=your_secure_password_here_change_in_production
DATABASE_URL=postgresql://${DATABASE_USER}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}
DATABASE_SSL=false
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ============================================================
# REDIS CONFIGURATION
# ============================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_change_in_production
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}
REDIS_DB=0
REDIS_TTL=3600

# ============================================================
# JWT & AUTHENTICATION
# ============================================================
JWT_SECRET=your_jwt_secret_here_change_in_production_min_32_chars
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=30d
JWT_ALGORITHM=HS256
SESSION_SECRET=your_session_secret_here_change_in_production

# ============================================================
# S3/MINIO STORAGE
# ============================================================
S3_ENDPOINT=http://minio:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin_change_in_production
S3_BUCKET=sup-media
S3_REGION=us-east-1
S3_USE_SSL=false
S3_PUBLIC_URL=http://localhost:9000

# Storage limits
MAX_FILE_SIZE=52428800
MAX_IMAGE_SIZE=10485760
MAX_VIDEO_SIZE=104857600
MAX_AUDIO_SIZE=20971520

# ============================================================
# MESSAGE QUEUE - RABBITMQ
# ============================================================
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest_change_in_production
RABBITMQ_VHOST=/
RABBITMQ_URL=amqp://${RABBITMQ_USER}:${RABBITMQ_PASSWORD}@${RABBITMQ_HOST}:${RABBITMQ_PORT}/${RABBITMQ_VHOST}
RABBITMQ_PREFETCH=10

# Queue names
QUEUE_MESSAGES=messages
QUEUE_NOTIFICATIONS=notifications
QUEUE_MEDIA_PROCESSING=media_processing
QUEUE_EMAIL=email

# ============================================================
# MESSAGE QUEUE - KAFKA (Alternative)
# ============================================================
KAFKA_BROKERS=kafka:9092
KAFKA_CLIENT_ID=sup-messenger
KAFKA_GROUP_ID=sup-group
KAFKA_TOPIC_MESSAGES=messages
KAFKA_TOPIC_EVENTS=events

# ============================================================
# WEBRTC - LIVEKIT
# ============================================================
LIVEKIT_URL=ws://livekit:7880
LIVEKIT_API_KEY=your_livekit_api_key_change_in_production
LIVEKIT_API_SECRET=your_livekit_api_secret_change_in_production
LIVEKIT_WEBHOOK_KEY=your_webhook_key_change_in_production

# ============================================================
# TURN/STUN SERVERS - COTURN
# ============================================================
TURN_SERVER_URL=turn:coturn:3478
TURN_USERNAME=supuser
TURN_PASSWORD=suppassword_change_in_production
TURN_REALM=sup.local
STUN_SERVER_URL=stun:coturn:3478

# Port ranges for TURN
TURN_MIN_PORT=49152
TURN_MAX_PORT=49200

# ============================================================
# EMAIL CONFIGURATION
# ============================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM_NAME=SUP Messenger
SMTP_FROM_EMAIL=noreply@yourdomain.com

# Email features
EMAIL_VERIFICATION_ENABLED=true
EMAIL_NOTIFICATIONS_ENABLED=true

# ============================================================
# PUSH NOTIFICATIONS
# ============================================================
# Firebase Cloud Messaging
FCM_PROJECT_ID=your_project_id
FCM_SERVER_KEY=your_fcm_server_key
FCM_CREDENTIALS_PATH=/path/to/firebase-credentials.json

# Web Push (VAPID)
VAPID_PUBLIC_KEY=your_vapid_public_key
VAPID_PRIVATE_KEY=your_vapid_private_key
VAPID_SUBJECT=mailto:admin@yourdomain.com

# ============================================================
# SECURITY & RATE LIMITING
# ============================================================
# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=5

# Password & Encryption
BCRYPT_ROUNDS=12
ENCRYPTION_KEY=your_encryption_key_32_chars_min_change_in_production

# CORS
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true

# Security headers
HELMET_ENABLED=true
CSP_ENABLED=true

# ============================================================
# MONITORING - PROMETHEUS
# ============================================================
PROMETHEUS_PORT=9090
PROMETHEUS_SCRAPE_INTERVAL=15s
PROMETHEUS_RETENTION_TIME=15d

# Metrics
METRICS_ENABLED=true
METRICS_PORT=9100

# ============================================================
# MONITORING - GRAFANA
# ============================================================
GRAFANA_PORT=3002
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin_change_in_production
GRAFANA_ALLOW_SIGNUP=false

# ============================================================
# LOGGING - LOKI
# ============================================================
LOKI_URL=http://loki:3100
LOKI_ENABLED=true

# Log rotation
LOG_MAX_FILES=10
LOG_MAX_SIZE=10485760

# ============================================================
# SSL/TLS & DOMAIN
# ============================================================
DOMAIN=yourdomain.com
ADMIN_EMAIL=admin@yourdomain.com
SSL_ENABLED=false
SSL_CERT_PATH=/etc/letsencrypt/live/${DOMAIN}/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/${DOMAIN}/privkey.pem

# ============================================================
# FEATURE FLAGS
# ============================================================
FEATURE_STORIES_ENABLED=true
FEATURE_CALLS_ENABLED=true
FEATURE_GROUPS_ENABLED=true
FEATURE_CHANNELS_ENABLED=true
FEATURE_STICKERS_ENABLED=true
FEATURE_VOICE_MESSAGES_ENABLED=true

# ============================================================
# PERFORMANCE & LIMITS
# ============================================================
# Message limits
MAX_MESSAGE_LENGTH=4096
MAX_CAPTION_LENGTH=1024
MAX_BIO_LENGTH=512

# Group limits
MAX_GROUP_MEMBERS=200
MAX_CHANNEL_MEMBERS=100000

# Story settings
STORY_DURATION_HOURS=24
STORY_MAX_SIZE=52428800

# Prekey pool
PREKEY_POOL_SIZE=100
PREKEY_REFILL_THRESHOLD=20

# Session management
SESSION_CLEANUP_INTERVAL=3600000
STORY_CLEANUP_INTERVAL=3600000

# ============================================================
# DEVELOPMENT & DEBUG
# ============================================================
DEBUG=false
MOCK_EXTERNAL_SERVICES=false
SEED_DATABASE=false
